@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
    scroll-behavior: smooth;
  }

  body {
    @apply bg-gradient-background text-foreground antialiased;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    font-family: 'Inter', system-ui, sans-serif;
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* Dark mode body styles */
  .dark body {
    @apply bg-gradient-background-dark text-dark-foreground;
  }

  /* Enhanced scrollbar with dark mode support */
  ::-webkit-scrollbar {
    width: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-neutral-100 dark:bg-dark-background-tertiary;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-neutral-300 dark:bg-dark-border rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-neutral-400 dark:bg-dark-border-tertiary;
  }

  /* Focus styles for accessibility */
  *:focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
  }

  *:focus-visible {
    @apply ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-dark-background;
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .card {
      @apply border-2 border-neutral-900 dark:border-neutral-100;
    }
  }
}

@layer components {
  /* Enhanced Button Styles with Dark Mode Support */
  .btn-primary {
    @apply bg-primary-600 hover:bg-primary-700 active:bg-primary-800 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 shadow-soft hover:shadow-medium disabled:opacity-50 disabled:cursor-not-allowed;
    @apply dark:bg-primary-500 dark:hover:bg-primary-600 dark:active:bg-primary-700 dark:focus:ring-offset-dark-background;
  }

  .btn-secondary {
    @apply bg-background-secondary hover:bg-background-tertiary active:bg-neutral-300 text-foreground font-semibold py-3 px-6 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-neutral-500 focus:ring-offset-2 shadow-soft hover:shadow-medium border border-border;
    @apply dark:bg-dark-background-secondary dark:hover:bg-dark-background-tertiary dark:text-dark-foreground dark:border-dark-border dark:focus:ring-offset-dark-background;
  }

  .btn-outline {
    @apply border-2 border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white active:bg-primary-700 font-semibold py-3 px-6 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 shadow-soft hover:shadow-medium bg-transparent;
    @apply dark:border-primary-400 dark:text-primary-400 dark:hover:bg-primary-500 dark:hover:border-primary-500 dark:focus:ring-offset-dark-background;
  }

  .btn-accent {
    @apply bg-accent-500 hover:bg-accent-600 active:bg-accent-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:ring-offset-2 shadow-soft hover:shadow-medium;
    @apply dark:bg-accent-400 dark:hover:bg-accent-500 dark:active:bg-accent-600 dark:focus:ring-offset-dark-background;
  }

  .btn-ghost {
    @apply text-foreground-secondary hover:text-foreground hover:bg-background-secondary active:bg-background-tertiary font-medium py-3 px-6 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-neutral-500 focus:ring-offset-2;
    @apply dark:text-dark-foreground-secondary dark:hover:text-dark-foreground dark:hover:bg-dark-background-secondary dark:active:bg-dark-background-tertiary dark:focus:ring-offset-dark-background;
  }

  .btn-success {
    @apply bg-success-500 hover:bg-success-600 active:bg-success-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-success-500 focus:ring-offset-2 shadow-soft hover:shadow-medium;
    @apply dark:bg-success-400 dark:hover:bg-success-500 dark:active:bg-success-600 dark:focus:ring-offset-dark-background;
  }

  .btn-warning {
    @apply bg-warning-500 hover:bg-warning-600 active:bg-warning-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-warning-500 focus:ring-offset-2 shadow-soft hover:shadow-medium;
    @apply dark:bg-warning-400 dark:hover:bg-warning-500 dark:active:bg-warning-600 dark:focus:ring-offset-dark-background;
  }

  .btn-error {
    @apply bg-error-500 hover:bg-error-600 active:bg-error-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-error-500 focus:ring-offset-2 shadow-soft hover:shadow-medium;
    @apply dark:bg-error-400 dark:hover:bg-error-500 dark:active:bg-error-600 dark:focus:ring-offset-dark-background;
  }

  .btn-glass {
    @apply bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 shadow-glass;
    @apply dark:bg-white/5 dark:hover:bg-white/10 dark:border-white/10 dark:focus:ring-offset-dark-background;
  }

  /* Enhanced Input Styles with Dark Mode */
  .input-field {
    @apply w-full px-4 py-3 border border-border rounded-xl bg-background focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 placeholder-foreground-tertiary text-foreground;
    @apply dark:bg-dark-background-secondary dark:border-dark-border dark:text-dark-foreground dark:placeholder-dark-foreground-tertiary dark:focus:ring-offset-dark-background;
  }

  .input-field-filled {
    @apply w-full px-4 py-3 border-0 rounded-xl bg-background-secondary focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-background transition-all duration-200 placeholder-foreground-tertiary text-foreground;
    @apply dark:bg-dark-background-tertiary dark:focus:bg-dark-background-secondary dark:text-dark-foreground dark:placeholder-dark-foreground-tertiary dark:focus:ring-offset-dark-background;
  }

  .input-field-error {
    @apply input-field border-error-300 focus:ring-error-500 dark:border-error-400 dark:focus:ring-error-400;
  }

  /* Enhanced Card Styles with Dark Mode */
  .card {
    @apply bg-background rounded-3xl shadow-medium border border-border/50 p-6 transition-all duration-300;
    @apply dark:bg-dark-background-secondary dark:border-dark-border/50 dark:shadow-medium-dark;
  }

  .card-elevated {
    @apply bg-background rounded-3xl shadow-elevated border border-border/30 p-6 transition-all duration-300;
    @apply dark:bg-dark-background-secondary dark:border-dark-border/30 dark:shadow-elevated;
  }

  .card-glass {
    @apply bg-white/10 backdrop-blur-md border border-white/20 rounded-3xl shadow-glass p-6 transition-all duration-300;
    @apply dark:bg-white/5 dark:border-white/10 dark:shadow-glass-dark;
  }

  .card-gradient {
    @apply bg-gradient-primary text-white rounded-3xl shadow-hard shadow-glow-primary/30 p-6 transition-all duration-300;
  }

  .card-gradient-accent {
    @apply bg-gradient-accent text-white rounded-3xl shadow-hard shadow-glow-accent/30 p-6 transition-all duration-300;
  }

  .card-gradient-secondary {
    @apply bg-gradient-secondary text-white rounded-3xl shadow-hard shadow-glow-secondary/30 p-6 transition-all duration-300;
  }

  /* Enhanced Typography Utilities */
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  /* Modern Text Gradients with Dark Mode Support */
  .text-gradient {
    @apply bg-gradient-hero bg-clip-text text-transparent;
  }

  .text-gradient-primary {
    @apply bg-gradient-primary bg-clip-text text-transparent;
  }

  .text-gradient-accent {
    @apply bg-gradient-accent bg-clip-text text-transparent;
  }

  .text-gradient-secondary {
    @apply bg-gradient-secondary bg-clip-text text-transparent;
  }

  .text-gradient-brand {
    @apply bg-gradient-brand bg-clip-text text-transparent;
  }

  /* Typography Hierarchy Classes */
  .heading-1 {
    @apply text-fluid-6xl font-heading font-bold tracking-tight text-foreground;
    @apply dark:text-dark-foreground;
  }

  .heading-2 {
    @apply text-fluid-5xl font-heading font-bold tracking-tight text-foreground;
    @apply dark:text-dark-foreground;
  }

  .heading-3 {
    @apply text-fluid-4xl font-heading font-semibold tracking-tight text-foreground;
    @apply dark:text-dark-foreground;
  }

  .heading-4 {
    @apply text-fluid-3xl font-heading font-semibold tracking-tight text-foreground;
    @apply dark:text-dark-foreground;
  }

  .heading-5 {
    @apply text-fluid-2xl font-heading font-semibold tracking-tight text-foreground;
    @apply dark:text-dark-foreground;
  }

  .heading-6 {
    @apply text-fluid-xl font-heading font-semibold tracking-tight text-foreground;
    @apply dark:text-dark-foreground;
  }

  .body-large {
    @apply text-fluid-lg font-body leading-relaxed text-foreground;
    @apply dark:text-dark-foreground;
  }

  .body-base {
    @apply text-fluid-base font-body leading-relaxed text-foreground;
    @apply dark:text-dark-foreground;
  }

  .body-small {
    @apply text-fluid-sm font-body leading-relaxed text-foreground-secondary;
    @apply dark:text-dark-foreground-secondary;
  }

  .caption {
    @apply text-fluid-xs font-body leading-tight text-foreground-tertiary uppercase tracking-wider;
    @apply dark:text-dark-foreground-tertiary;
  }

  .display-hero {
    @apply text-display-xl font-heading font-black tracking-tight text-foreground;
    @apply dark:text-dark-foreground;
  }

  .display-large {
    @apply text-display-lg font-heading font-bold tracking-tight text-foreground;
    @apply dark:text-dark-foreground;
  }

  .display-medium {
    @apply text-display-md font-heading font-bold tracking-tight text-foreground;
    @apply dark:text-dark-foreground;
  }

  /* Glass Morphism */
  .glass {
    @apply bg-white/10 backdrop-blur-md border border-white/20;
  }

  .glass-dark {
    @apply bg-black/10 backdrop-blur-md border border-black/20;
  }

  /* Modern Shadows */
  .shadow-neon {
    box-shadow: 0 0 5px currentColor, 0 0 10px currentColor, 0 0 15px currentColor;
  }

  /* Animated Background */
  .bg-animated {
    background-size: 200% 200%;
    animation: gradient 15s ease infinite;
  }

  @keyframes gradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .card-hover {
    @apply card hover:shadow-medium hover:border-neutral-300 cursor-pointer;
  }

  .card-interactive {
    @apply card-hover active:scale-[0.98] transition-transform;
  }

  .card-gradient {
    @apply bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700 text-white shadow-glow;
  }

  .card-accent {
    @apply bg-gradient-to-br from-accent-500 via-accent-600 to-accent-700 text-white shadow-glow-accent;
  }

  /* Enhanced Gradient Backgrounds */
  .gradient-bg {
    @apply bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700;
  }

  .gradient-bg-accent {
    @apply bg-gradient-to-br from-accent-500 via-accent-600 to-accent-700;
  }

  .gradient-bg-success {
    @apply bg-gradient-to-br from-success-500 via-success-600 to-success-700;
  }

  /* Text Gradients */
  .text-gradient {
    @apply bg-gradient-to-r from-primary-600 to-primary-800 bg-clip-text text-transparent;
  }

  .text-gradient-accent {
    @apply bg-gradient-to-r from-accent-600 to-accent-800 bg-clip-text text-transparent;
  }

  /* Loading States */
  .skeleton {
    @apply animate-pulse bg-neutral-200 rounded;
  }

  .shimmer {
    @apply relative overflow-hidden;
  }

  .shimmer::after {
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent;
    content: '';
    animation: shimmer 2s infinite;
  }

  /* Status Indicators */
  .status-dot {
    @apply w-2 h-2 rounded-full;
  }

  .status-online {
    @apply status-dot bg-success-500;
  }

  .status-offline {
    @apply status-dot bg-neutral-400;
  }

  .status-busy {
    @apply status-dot bg-warning-500;
  }

  /* Progress Bars */
  .progress-bar {
    @apply w-full bg-neutral-200 rounded-full h-2 overflow-hidden;
  }

  .progress-fill {
    @apply h-full bg-gradient-to-r from-primary-500 to-primary-600 rounded-full transition-all duration-300;
  }

  /* Badges */
  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
  }

  .badge-primary {
    @apply badge bg-primary-100 text-primary-800;
  }

  .badge-success {
    @apply badge bg-success-100 text-success-800;
  }

  .badge-warning {
    @apply badge bg-warning-100 text-warning-800;
  }

  .badge-error {
    @apply badge bg-error-100 text-error-800;
  }

  /* Fitness-specific badges */
  .badge-cardio {
    @apply badge bg-fitness-cardio-100 text-fitness-cardio-800 border border-fitness-cardio-200;
  }

  .badge-strength {
    @apply badge bg-fitness-strength-100 text-fitness-strength-800 border border-fitness-strength-200;
  }

  .badge-flexibility {
    @apply badge bg-fitness-flexibility-100 text-fitness-flexibility-800 border border-fitness-flexibility-200;
  }

  .badge-recovery {
    @apply badge bg-fitness-recovery-100 text-fitness-recovery-800 border border-fitness-recovery-200;
  }

  .badge-hiit {
    @apply badge bg-fitness-hiit-100 text-fitness-hiit-800 border border-fitness-hiit-200;
  }

  .badge-yoga {
    @apply badge bg-fitness-yoga-100 text-fitness-yoga-800 border border-fitness-yoga-200;
  }

  .badge-pilates {
    @apply badge bg-fitness-pilates-100 text-fitness-pilates-800 border border-fitness-pilates-200;
  }

  /* Glass Effect */
  .glass {
    @apply backdrop-blur-md bg-white/80 border border-white/20;
  }

  .glass-dark {
    @apply backdrop-blur-md bg-neutral-900/80 border border-white/10;
  }

  /* Mobile-specific utilities */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  /* Prevent text selection on interactive elements */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  /* Smooth scrolling for mobile */
  .smooth-scroll {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  /* Hide scrollbar but keep functionality */
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Enhanced Layout Utilities */
  .container-fluid {
    @apply w-full max-w-none px-fluid-sm;
  }

  .container-narrow {
    @apply max-w-4xl mx-auto px-layout-md;
  }

  .container-wide {
    @apply max-w-8xl mx-auto px-layout-lg;
  }

  /* Grid Layout Utilities */
  .grid-auto-fit {
    @apply grid grid-cols-auto-fit-md gap-layout-md;
  }

  .grid-auto-fill {
    @apply grid grid-cols-auto-fill-md gap-layout-md;
  }

  .grid-sidebar {
    @apply grid grid-cols-sidebar gap-layout-lg;
  }

  .grid-holy-grail {
    @apply grid grid-cols-holy-grail gap-layout-md;
  }

  /* Flexbox Utilities */
  .flex-center {
    @apply flex items-center justify-center;
  }

  .flex-between {
    @apply flex items-center justify-between;
  }

  .flex-around {
    @apply flex items-center justify-around;
  }

  .flex-evenly {
    @apply flex items-center justify-evenly;
  }

  .flex-start {
    @apply flex items-center justify-start;
  }

  .flex-end {
    @apply flex items-center justify-end;
  }

  /* Stack Layout */
  .stack {
    @apply flex flex-col;
  }

  .stack-xs > * + * {
    @apply mt-component-xs;
  }

  .stack-sm > * + * {
    @apply mt-component-sm;
  }

  .stack-md > * + * {
    @apply mt-component-md;
  }

  .stack-lg > * + * {
    @apply mt-component-lg;
  }

  .stack-xl > * + * {
    @apply mt-component-xl;
  }

  /* Cluster Layout */
  .cluster {
    @apply flex flex-wrap items-center;
  }

  .cluster-xs {
    @apply cluster gap-component-xs;
  }

  .cluster-sm {
    @apply cluster gap-component-sm;
  }

  .cluster-md {
    @apply cluster gap-component-md;
  }

  .cluster-lg {
    @apply cluster gap-component-lg;
  }

  .cluster-xl {
    @apply cluster gap-component-xl;
  }

  /* Sidebar Layout */
  .sidebar {
    @apply flex flex-wrap;
  }

  .sidebar > :first-child {
    @apply flex-grow-0 flex-shrink-0 basis-auto;
  }

  .sidebar > :last-child {
    @apply flex-grow-1 flex-shrink-1 basis-0 min-w-0;
  }

  /* Switcher Layout */
  .switcher {
    @apply flex flex-wrap;
  }

  .switcher > * {
    @apply flex-grow-1 flex-shrink-1 basis-auto;
  }

  /* Cover Layout */
  .cover {
    @apply flex flex-col min-h-screen;
  }

  .cover > :first-child:not(.cover-centered),
  .cover > :last-child:not(.cover-centered) {
    @apply flex-grow-0 flex-shrink-0;
  }

  .cover-centered {
    @apply flex-grow-1 flex-shrink-1 flex items-center justify-center;
  }

  /* Aspect Ratio Utilities */
  .aspect-golden {
    aspect-ratio: 1.618 / 1;
  }

  .aspect-photo {
    aspect-ratio: 4 / 3;
  }

  .aspect-landscape {
    aspect-ratio: 16 / 9;
  }

  .aspect-portrait {
    aspect-ratio: 3 / 4;
  }

  /* Responsive Container Queries */
  @container (min-width: 20rem) {
    .container-xs\:block {
      display: block;
    }
    .container-xs\:hidden {
      display: none;
    }
  }

  @container (min-width: 24rem) {
    .container-sm\:block {
      display: block;
    }
    .container-sm\:hidden {
      display: none;
    }
  }

  @container (min-width: 28rem) {
    .container-md\:block {
      display: block;
    }
    .container-md\:hidden {
      display: none;
    }
  }

  /* Enhanced Animation Utilities */
  .animate-on-scroll {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1), transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .animate-on-scroll.in-view {
    opacity: 1;
    transform: translateY(0);
  }

  .animate-stagger > * {
    animation-delay: calc(var(--stagger-delay, 0.1s) * var(--index, 0));
  }

  /* Hover animations */
  .hover-lift {
    transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1), box-shadow 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  }

  .hover-scale {
    transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .hover-scale:hover {
    transform: scale(1.05);
  }

  .hover-rotate {
    transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .hover-rotate:hover {
    transform: rotate(5deg);
  }

  /* Focus animations */
  .focus-ring-animated {
    position: relative;
    overflow: hidden;
  }

  .focus-ring-animated::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    background: linear-gradient(45deg, transparent, rgba(99, 102, 241, 0.3), transparent);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .focus-ring-animated:focus::before {
    opacity: 1;
    animation: rotate 2s linear infinite;
  }

  /* Loading states */
  .loading-skeleton {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }

  .dark .loading-skeleton {
    background: linear-gradient(90deg, #2a2a2a 25%, #3a3a3a 50%, #2a2a2a 75%);
    background-size: 200% 100%;
  }

  /* Pulse animations for different states */
  .pulse-success {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    --tw-pulse-color: rgb(16 185 129);
  }

  .pulse-warning {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    --tw-pulse-color: rgb(245 158 11);
  }

  .pulse-error {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    --tw-pulse-color: rgb(239 68 68);
  }

  /* Transition utilities */
  .transition-smooth {
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .transition-bounce {
    transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  .transition-spring {
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  /* Performance optimizations */
  .will-change-transform {
    will-change: transform;
  }

  .will-change-opacity {
    will-change: opacity;
  }

  .will-change-scroll {
    will-change: scroll-position;
  }

  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }

  /* Accessibility & Inclusive Design */

  /* Screen Reader Only Content */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .sr-only-focusable:focus {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }

  /* Skip Links */
  .skip-link {
    @apply sr-only-focusable absolute top-0 left-0 z-50 bg-primary-600 text-white px-4 py-2 rounded-br-lg font-medium;
    transform: translateY(-100%);
    transition: transform 0.3s ease;
  }

  .skip-link:focus {
    transform: translateY(0);
  }

  /* Enhanced Focus Indicators */
  .focus-visible-enhanced:focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-dark-background;
    box-shadow: 0 0 0 2px var(--tw-ring-offset-color), 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
  }

  /* High Contrast Mode Support */
  @media (prefers-contrast: high) {
    .card, .btn-secondary, .input-field {
      border-width: 2px;
      border-color: currentColor;
    }

    .text-gradient, .text-gradient-primary, .text-gradient-accent {
      background: none;
      color: currentColor;
      -webkit-background-clip: unset;
      background-clip: unset;
    }
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }

    .animate-on-scroll {
      opacity: 1;
      transform: none;
    }
  }

  /* Color Blind Friendly Patterns */
  .pattern-dots {
    background-image: radial-gradient(circle, currentColor 1px, transparent 1px);
    background-size: 8px 8px;
  }

  .pattern-stripes {
    background-image: repeating-linear-gradient(
      45deg,
      transparent,
      transparent 4px,
      currentColor 4px,
      currentColor 8px
    );
  }

  .pattern-grid {
    background-image:
      linear-gradient(currentColor 1px, transparent 1px),
      linear-gradient(90deg, currentColor 1px, transparent 1px);
    background-size: 8px 8px;
  }

  /* Touch Target Improvements */
  .touch-target-large {
    min-height: 48px;
    min-width: 48px;
  }

  .touch-target-xl {
    min-height: 56px;
    min-width: 56px;
  }

  /* Keyboard Navigation Helpers */
  .keyboard-only:not(:focus-visible) {
    outline: none;
    box-shadow: none;
  }

  /* ARIA Live Regions */
  .live-region {
    position: absolute;
    left: -10000px;
    width: 1px;
    height: 1px;
    overflow: hidden;
  }

  /* Status Indicators with Patterns for Color Blind Users */
  .status-success {
    @apply bg-success-500 text-white;
  }

  .status-success::before {
    content: '✓';
    margin-right: 0.5rem;
  }

  .status-warning {
    @apply bg-warning-500 text-white;
  }

  .status-warning::before {
    content: '⚠';
    margin-right: 0.5rem;
  }

  .status-error {
    @apply bg-error-500 text-white;
  }

  .status-error::before {
    content: '✕';
    margin-right: 0.5rem;
  }

  .status-info {
    @apply bg-primary-500 text-white;
  }

  .status-info::before {
    content: 'ℹ';
    margin-right: 0.5rem;
  }

  /* Form Accessibility Enhancements */
  .form-field-required::after {
    content: ' *';
    color: #dc2626;
    font-weight: bold;
  }

  .form-error {
    @apply text-error-600 dark:text-error-400;
  }

  .form-error::before {
    content: '⚠ ';
  }

  .form-success {
    @apply text-success-600 dark:text-success-400;
  }

  .form-success::before {
    content: '✓ ';
  }

  /* Loading States for Screen Readers */
  .loading-announced::before {
    content: 'Loading, please wait...';
    @apply sr-only;
  }

  /* Progress Indicators */
  .progress-accessible {
    position: relative;
  }

  .progress-accessible::after {
    content: attr(aria-valuenow) '% complete';
    @apply sr-only;
  }

  /* Dark Mode Accessibility */
  .dark {
    color-scheme: dark;
  }

  /* Fitness-specific component styles */
  .workout-card {
    @apply card relative overflow-hidden group cursor-pointer transition-all duration-300;
  }

  .workout-card:hover {
    @apply shadow-elevated-lg transform -translate-y-1 scale-[1.02];
  }

  .workout-card-intensity-low {
    @apply border-l-4 border-fitness-flexibility-500 bg-gradient-to-r from-fitness-flexibility-50 to-white;
  }

  .workout-card-intensity-medium {
    @apply border-l-4 border-fitness-strength-500 bg-gradient-to-r from-fitness-strength-50 to-white;
  }

  .workout-card-intensity-high {
    @apply border-l-4 border-fitness-cardio-500 bg-gradient-to-r from-fitness-cardio-50 to-white;
  }

  .workout-card-intensity-extreme {
    @apply border-l-4 border-fitness-hiit-500 bg-gradient-to-r from-fitness-hiit-50 to-white;
  }

  /* Exercise instruction cards */
  .exercise-card {
    @apply card p-6 bg-white border border-neutral-200 hover:border-primary-300 transition-all duration-300;
  }

  .exercise-card-active {
    @apply border-primary-500 bg-gradient-to-r from-primary-50 to-white shadow-glow-primary;
  }

  /* Progress indicators */
  .progress-ring {
    @apply relative inline-flex items-center justify-center;
  }

  .progress-ring-background {
    @apply absolute inset-0 rounded-full border-4 border-neutral-200;
  }

  .progress-ring-fill {
    @apply absolute inset-0 rounded-full border-4 border-primary-500 transition-all duration-500;
    transform: rotate(-90deg);
    stroke-dasharray: calc(var(--progress) * 2.51) 251;
  }

  /* Workout timer styles */
  .timer-display {
    @apply text-6xl font-mono font-bold text-center tabular-nums;
  }

  .timer-active {
    @apply text-primary-600 animate-workout-pulse;
  }

  .timer-rest {
    @apply text-fitness-recovery-500 animate-rest-breathe;
  }

  .timer-warning {
    @apply text-warning-500 animate-pulse;
  }

  /* Achievement styles */
  .achievement-badge {
    @apply inline-flex items-center px-4 py-2 rounded-full font-semibold text-sm;
  }

  .achievement-bronze {
    @apply achievement-badge bg-gradient-to-r from-amber-600 to-amber-700 text-white shadow-achievement;
  }

  .achievement-silver {
    @apply achievement-badge bg-gradient-to-r from-gray-400 to-gray-500 text-white shadow-achievement;
  }

  .achievement-gold {
    @apply achievement-badge bg-gradient-to-r from-yellow-400 to-yellow-500 text-white shadow-achievement;
  }

  /* Motivational elements */
  .motivation-text {
    @apply text-lg font-semibold bg-gradient-energy bg-clip-text text-transparent animate-gradient bg-[length:200%_200%];
  }

  .energy-button {
    @apply btn-primary relative overflow-hidden;
  }

  .energy-button::before {
    content: '';
    @apply absolute inset-0 bg-gradient-energy opacity-0 transition-opacity duration-300;
  }

  .energy-button:hover::before {
    @apply opacity-20;
  }

  /* Workout type indicators */
  .workout-type-cardio {
    @apply bg-gradient-cardio text-white shadow-cardio;
  }

  .workout-type-strength {
    @apply bg-gradient-strength text-white shadow-strength;
  }

  .workout-type-flexibility {
    @apply bg-gradient-flexibility text-white shadow-flexibility;
  }

  .workout-type-recovery {
    @apply bg-gradient-recovery text-white shadow-recovery;
  }

  .workout-type-hiit {
    @apply bg-gradient-hiit text-white shadow-hiit;
  }

  .workout-type-yoga {
    @apply bg-gradient-yoga text-white shadow-yoga;
  }

  .workout-type-pilates {
    @apply bg-gradient-pilates text-white shadow-pilates;
  }

  /* Mobile-specific optimizations */
  @media (max-width: 768px) {
    /* Touch-friendly interactions */
    .btn, .button, button {
      min-height: 44px;
      min-width: 44px;
    }

    /* Improved text readability on mobile */
    body {
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }

    /* Better spacing for mobile */
    .container {
      padding-left: 1rem;
      padding-right: 1rem;
    }

    /* Mobile-optimized cards */
    .card {
      margin-bottom: 1rem;
      border-radius: 1rem;
    }

    /* Workout cards mobile optimization */
    .workout-card {
      padding: 1rem;
      margin-bottom: 0.75rem;
    }

    /* Mobile timer adjustments */
    .timer-display {
      font-size: 3rem;
    }

    /* Mobile-friendly progress indicators */
    .progress-ring {
      width: 80px;
      height: 80px;
    }

    /* Gesture-friendly navigation */
    .nav-item {
      padding: 0.75rem;
      min-height: 60px;
    }

    /* Mobile workout interface */
    .workout-interface {
      padding: 1rem;
      margin-bottom: 80px; /* Account for bottom navigation */
    }

    /* Mobile-optimized modals */
    .modal {
      margin: 1rem;
      max-height: calc(100vh - 2rem);
      overflow-y: auto;
    }
  }

  /* Tablet optimizations */
  @media (min-width: 769px) and (max-width: 1024px) {
    .container {
      padding-left: 2rem;
      padding-right: 2rem;
    }

    .workout-card {
      padding: 1.5rem;
    }
  }

  /* High DPI displays */
  @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    /* Crisp icons and graphics */
    .icon, .badge, .button {
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
  }

  /* Dark mode support */
  @media (prefers-color-scheme: dark) {
    :root {
      --bg-primary: #1a1a1a;
      --text-primary: #ffffff;
      --border-color: #333333;
    }

    body {
      background-color: var(--bg-primary);
      color: var(--text-primary);
    }

    .card {
      background-color: #2a2a2a;
      border-color: var(--border-color);
    }
  }

  /* Reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }

    .animate-pulse,
    .animate-bounce,
    .animate-spin,
    .animate-ping {
      animation: none !important;
    }
  }

  /* Print Styles */
  @media print {
    .no-print {
      display: none !important;
    }

    .print-only {
      display: block !important;
    }

    * {
      background: transparent !important;
      color: black !important;
      box-shadow: none !important;
      text-shadow: none !important;
    }

    a, a:visited {
      text-decoration: underline;
    }

    a[href]:after {
      content: " (" attr(href) ")";
    }

    .card {
      border: 1px solid #000;
      page-break-inside: avoid;
    }
  }
}
