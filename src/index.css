/* =============================================================================
   NeuraFit — Modern Design System (Apple/Nike Inspired)
   - System fonts for native feel
   - Refined color tokens
   - Enhanced accessibility
   - Premium visual hierarchy
============================================================================= */

/* === System Fonts (Apple/Nike inspired) === */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300..900&display=swap');

/* === Tailwind layers === */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* --------------------------------------------------------------------------------
   BASE
---------------------------------------------------------------------------------*/
@layer base {
  /* ---- Modern Design Tokens ---- */
  :root {
    /* Modern brand colors as space-separated RGB */
    --nf-primary-500: 100 116 139;   /* slate-500 */
    --nf-primary-600: 71 85 105;     /* slate-600 */
    --nf-primary-700: 51 65 85;      /* slate-700 */
    --nf-energy-500: 249 115 22;     /* orange-500 */
    --nf-energy-600: 234 88 12;      /* orange-600 */
    --nf-success-500: 34 197 94;     /* green-500 */
    --nf-success-600: 22 163 74;     /* green-600 */
    --nf-warning-500: 245 158 11;    /* amber-500 */
    --nf-error-500: 239 68 68;       /* red-500 */

    /* Modern font stacks - Apple/Nike inspired */
    --font-sans: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Inter', system-ui, 'Segoe UI', Roboto, sans-serif;
    --font-body: 'SF Pro Text', -apple-system, BlinkMacSystemFont, 'Inter', system-ui, sans-serif;
    --font-mono: 'SF Mono', Monaco, 'JetBrains Mono', Menlo, Consolas, monospace;

    /* Refined spacing system */
    --space-xs: 0.5rem;
    --space-sm: 0.75rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
    --space-2xl: 3rem;

    /* Modern shadows */
    --shadow-subtle: 0 1px 3px 0 rgba(0, 0, 0, 0.06);
    --shadow-elevated: 0 4px 16px 0 rgba(0, 0, 0, 0.08);
    --shadow-premium: 0 8px 32px 0 rgba(0, 0, 0, 0.12);

    /* System preferences */
    color-scheme: light dark;
  }

  /* Dark theme support */
  [data-theme="dark"] {
    --nf-primary-500: 148 163 184;   /* slate-400 */
    --nf-primary-600: 100 116 139;   /* slate-500 */
    --nf-primary-700: 71 85 105;     /* slate-600 */
    color-scheme: dark;
  }

  /* ---- Modern base reset (complements Tailwind preflight) ---- */
  *, *::before, *::after { box-sizing: border-box; }
  html, body { height: 100%; }

  html {
    font-family: var(--font-sans);
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
    scroll-behavior: smooth;
  }

  body {
    @apply bg-white text-foreground antialiased;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    font-family: var(--font-body);
    font-synthesis: none;
    accent-color: rgb(var(--nf-energy-500));
    transition: background-color 0.2s ease, color 0.2s ease;
    font-feature-settings: 'kern' 1, 'liga' 1, 'calt' 1;
  }

  /* Modern font helpers */
  .font-display { font-family: var(--font-sans); font-weight: 700; }
  .font-body { font-family: var(--font-body); }
  .font-mono { font-family: var(--font-mono); }

  /* Modern selection styling */
  ::selection {
    background: rgb(var(--nf-energy-500) / 0.15);
    color: inherit;
  }

  /* Refined scrollbars */
  ::-webkit-scrollbar { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { @apply bg-neutral-50; }
  ::-webkit-scrollbar-thumb { @apply bg-neutral-300 rounded-full; }
  ::-webkit-scrollbar-thumb:hover { @apply bg-neutral-400; }
  html { scrollbar-width: thin; scrollbar-color: rgb(203 213 225) rgb(248 250 252); }

  /* Focus: don’t suppress outlines globally; style keyboard focus clearly */
  :focus { outline: none; }
  :focus-visible { @apply ring-2 ring-primary-500 ring-offset-2; }

  /* High contrast mode */
  @media (prefers-contrast: more), (forced-colors: active) {
    .card { @apply border-2 border-neutral-900; }
    .btn-secondary, .input-field { border-width: 2px; border-color: currentColor; }
    .text-gradient, .text-gradient-primary, .text-gradient-accent {
      background: none; color: currentColor; -webkit-background-clip: initial; background-clip: initial;
    }
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
    .animate-pulse, .animate-bounce, .animate-spin, .animate-ping { animation: none !important; }
    .animate-on-scroll { opacity: 1; transform: none; }
  }

  /* Reduced data: dampen heavy decorative backgrounds */
  @media (prefers-reduced-data: reduce) {
    .bg-mesh-gradient, .bg-gradient-background, .card-gradient, .card-gradient-accent, .card-gradient-secondary {
      background-image: none !important;
    }
  }

  /* Background tokens used via @apply elsewhere (Color4 syntax fixed) */
  .bg-gradient-background {
    background-image:
      radial-gradient(60% 80% at 20% 0%, rgb(var(--nf-primary-500) / 0.10), transparent 60%),
      radial-gradient(50% 70% at 100% 20%, rgb(var(--nf-accent-500) / 0.12), transparent 60%),
      linear-gradient(180deg, #fafafa 0%, #ffffff 60%, #f8fafc 100%);
  }
}

/* --------------------------------------------------------------------------------
   UTILITIES
---------------------------------------------------------------------------------*/
@layer utilities {
  /* Mesh + hero gradients */
  .bg-mesh-gradient {
    background-image:
      radial-gradient(1000px 500px at -10% -20%, rgb(var(--nf-primary-500) / 0.20), transparent 60%),
      radial-gradient(800px 400px at 110% 0%, rgb(var(--nf-accent-500) / 0.18), transparent 60%);
    background-repeat: no-repeat;
  }
  .bg-gradient-hero {
    background-image: linear-gradient(90deg, rgb(var(--nf-accent-500)) 0%, rgb(var(--nf-secondary-500)) 50%, rgb(var(--nf-primary-500)) 100%);
  }
  .bg-gradient-primary {
    background-image: linear-gradient(135deg, rgb(var(--nf-primary-500)) 0%, rgb(var(--nf-primary-600)) 50%, rgb(var(--nf-primary-700)) 100%);
  }
  .bg-gradient-accent {
    background-image: linear-gradient(135deg, rgb(var(--nf-accent-500)) 0%, rgb(14 165 233) 50%, rgb(56 189 248) 100%);
  }
  .bg-gradient-secondary {
    background-image: linear-gradient(135deg, rgb(var(--nf-secondary-500)) 0%, rgb(147 51 234) 50%, rgb(126 34 206) 100%);
  }
  .bg-gradient-brand {
    background-image: linear-gradient(135deg, rgb(var(--nf-brand-500)) 0%, rgb(var(--nf-primary-500)) 100%);
  }

  /* Fitness gradients */
  .bg-gradient-cardio { background-image: linear-gradient(135deg, #ef4444, #f97316); }
  .bg-gradient-strength { background-image: linear-gradient(135deg, #22c55e, #16a34a); }
  .bg-gradient-flexibility { background-image: linear-gradient(135deg, #06b6d4, #0ea5e9); }
  .bg-gradient-recovery { background-image: linear-gradient(135deg, #10b981, #0ea5a3); }
  .bg-gradient-hiit { background-image: linear-gradient(135deg, #f59e0b, #ef4444); }
  .bg-gradient-yoga { background-image: linear-gradient(135deg, #a78bfa, #22d3ee); }
  .bg-gradient-pilates { background-image: linear-gradient(135deg, #f472b6, #a78bfa); }
  .bg-gradient-energy { background-image: linear-gradient(135deg, #22d3ee, #6366f1); }

  /* Text gradients */
  .text-gradient { background-image: linear-gradient(90deg, rgb(var(--nf-primary-600)), rgb(67 56 202)); -webkit-background-clip: text; background-clip: text; color: transparent; }
  .text-gradient-primary { background-image: linear-gradient(90deg, rgb(var(--nf-primary-500)), rgb(var(--nf-primary-700))); -webkit-background-clip: text; background-clip: text; color: transparent; }
  .text-gradient-accent { background-image: linear-gradient(90deg, rgb(var(--nf-accent-500)), rgb(14 165 233)); -webkit-background-clip: text; background-clip: text; color: transparent; }
  .text-gradient-secondary { background-image: linear-gradient(90deg, rgb(var(--nf-secondary-500)), rgb(147 51 234)); -webkit-background-clip: text; background-clip: text; color: transparent; }
  .text-gradient-brand { background-image: linear-gradient(90deg, rgb(var(--nf-brand-500)), rgb(var(--nf-primary-500))); -webkit-background-clip: text; background-clip: text; color: transparent; }

  /* Fluid type scale */
  .text-display-xl { font-size: clamp(2.75rem, 1.6rem + 3vw, 5rem); line-height: 1.05; }
  .text-display-lg { font-size: clamp(2.25rem, 1.2rem + 2.5vw, 3.75rem); line-height: 1.08; }
  .text-display-md { font-size: clamp(1.75rem, 0.9rem + 2vw, 3rem); line-height: 1.12; }
  .text-fluid-6xl { font-size: clamp(2.25rem, 1.4rem + 2.8vw, 3.75rem); line-height: 1.1; }
  .text-fluid-5xl { font-size: clamp(2rem, 1.2rem + 2.4vw, 3rem); line-height: 1.12; }
  .text-fluid-4xl { font-size: clamp(1.5rem, 0.9rem + 2vw, 2.25rem); line-height: 1.2; }
  .text-fluid-3xl { font-size: clamp(1.375rem, 0.8rem + 1.6vw, 2rem); line-height: 1.25; }
  .text-fluid-2xl { font-size: clamp(1.25rem, 0.7rem + 1.2vw, 1.75rem); line-height: 1.3; }
  .text-fluid-xl  { font-size: clamp(1.125rem, 0.65rem + 1vw, 1.5rem); line-height: 1.35; }
  .text-fluid-lg  { font-size: clamp(1.0625rem, 0.7rem + 0.7vw, 1.25rem); }
  .text-fluid-base{ font-size: clamp(1rem, 0.8rem + 0.4vw, 1.0625rem); }
  .text-fluid-sm  { font-size: clamp(0.9375rem, 0.75rem + 0.3vw, 1rem); }
  .text-fluid-xs  { font-size: clamp(0.8125rem, 0.7rem + 0.2vw, 0.875rem); }

  /* Shadows */
  .shadow-soft { box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
  .shadow-medium { box-shadow: 0 8px 24px rgba(0,0,0,0.08); }
  .shadow-elevated { box-shadow: 0 12px 32px rgba(0,0,0,0.12); }
  .shadow-elevated-lg { box-shadow: 0 16px 40px rgba(0,0,0,0.16); }
  .shadow-hard { box-shadow: 0 10px 40px rgba(0,0,0,0.25); }
  .shadow-glass { box-shadow: 0 10px 30px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.2); }
  .shadow-glow { box-shadow: 0 0 0 0 rgba(0,0,0,0); }
  .shadow-glow-primary { box-shadow: 0 10px 30px rgb(var(--nf-primary-600) / 0.35), 0 0 0 1px rgb(var(--nf-primary-600) / 0.10); }
  .shadow-glow-accent  { box-shadow: 0 10px 30px rgb(var(--nf-accent-500) / 0.35), 0 0 0 1px rgb(var(--nf-accent-500) / 0.10); }
  .shadow-glow-secondary { box-shadow: 0 10px 30px rgb(var(--nf-secondary-500) / 0.35), 0 0 0 1px rgb(var(--nf-secondary-500) / 0.10); }
  .shadow-cardio { box-shadow: 0 10px 30px rgba(239,68,68,0.30); }
  .shadow-strength { box-shadow: 0 10px 30px rgba(34,197,94,0.30); }
  .shadow-flexibility { box-shadow: 0 10px 30px rgba(6,182,212,0.30); }
  .shadow-recovery { box-shadow: 0 10px 30px rgba(16,185,129,0.30); }
  .shadow-hiit { box-shadow: 0 10px 30px rgba(245,158,11,0.30); }
  .shadow-yoga { box-shadow: 0 10px 30px rgba(167,139,250,0.30); }
  .shadow-pilates { box-shadow: 0 10px 30px rgba(244,114,182,0.30); }

  /* Animation helpers */
  @keyframes gradientPan { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }
  .animate-gradient { background-size: 200% 200%; animation: gradientPan 8s ease infinite; }

  @keyframes shimmer { 0%{transform:translateX(-100%)} 100%{transform:translateX(100%)} }
  .shimmer { position: relative; overflow: hidden; }
  .shimmer::after { content:''; position:absolute; inset:0; background-image: linear-gradient(90deg, transparent, rgba(255,255,255,0.45), transparent); animation: shimmer 2s infinite; }

  @keyframes workoutPulse { 0%,100%{transform:scale(1)} 50%{transform:scale(1.03)} }
  .animate-workout-pulse { animation: workoutPulse 1.5s ease-in-out infinite; }

  @keyframes restBreathe { 0%,100%{letter-spacing:0} 50%{letter-spacing:0.5px} }
  .animate-rest-breathe { animation: restBreathe 3s ease-in-out infinite; }

  /* Safe area helpers */
  .safe-area-bottom { padding-bottom: env(safe-area-inset-bottom); }
  .safe-area-top { padding-top: env(safe-area-inset-top); }
  .h-safe-bottom { height: env(safe-area-inset-bottom); }

  /* Fluid paddings */
  .px-fluid-sm { padding-left: clamp(1rem, 4vw, 1.5rem); padding-right: clamp(1rem, 4vw, 1.5rem); }
  .px-layout-md { padding-left: var(--space-layout-md); padding-right: var(--space-layout-md); }
  .px-layout-lg { padding-left: var(--space-layout-lg); padding-right: var(--space-layout-lg); }

  /* Grid templates */
  .grid-auto-fit { display:grid; grid-template-columns: repeat(auto-fit, minmax(18rem, 1fr)); gap: var(--space-layout-md); }
  .grid-auto-fill { display:grid; grid-template-columns: repeat(auto-fill, minmax(18rem, 1fr)); gap: var(--space-layout-md); }
  .grid-sidebar { display:grid; grid-template-columns: 280px 1fr; gap: var(--space-layout-lg); }
  .grid-holy-grail { display:grid; grid-template-columns: 1fr minmax(0, 800px) 1fr; gap: var(--space-layout-md); }

  /* Visibility & performance helpers */
  .cv-auto { content-visibility: auto; contain-intrinsic-size: 600px 800px; } /* tune per container */
  .break-anywhere { overflow-wrap: anywhere; word-break: break-word; }
  .hyphens-auto { hyphens: auto; }

  /* Screen-reader helpers */
  .sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
  .sr-only-focusable:focus { position:static; width:auto; height:auto; padding:inherit; margin:inherit; overflow:visible; clip:auto; white-space:normal; }

  /* Skip link */
  .skip-link { @apply sr-only-focusable absolute top-0 left-0 z-50 bg-primary-600 text-white px-4 py-2 rounded-br-lg font-medium; transform: translateY(-100%); transition: transform 0.3s ease; }
  .skip-link:focus { transform: translateY(0); }

  /* Hover/focus motion utilities */
  .hover-lift { transition: transform .3s cubic-bezier(.16,1,.3,1), box-shadow .3s cubic-bezier(.16,1,.3,1); }
  .hover-lift:hover { transform: translateY(-4px); box-shadow: 0 8px 25px rgba(0,0,0,.15); }
  .hover-scale { transition: transform .3s cubic-bezier(.16,1,.3,1); }
  .hover-scale:hover { transform: scale(1.05); }
  .hover-rotate { transition: transform .3s cubic-bezier(.16,1,.3,1); }
  .hover-rotate:hover { transform: rotate(5deg); }

  /* Patterns for color‑blind friendly cues */
  .pattern-dots { background-image: radial-gradient(circle, currentColor 1px, transparent 1px); background-size: 8px 8px; }
  .pattern-stripes { background-image: repeating-linear-gradient(45deg, transparent, transparent 4px, currentColor 4px, currentColor 8px); }
  .pattern-grid { background-image: linear-gradient(currentColor 1px, transparent 1px), linear-gradient(90deg, currentColor 1px, transparent 1px); background-size: 8px 8px; }
}

/* --------------------------------------------------------------------------------
   COMPONENTS
---------------------------------------------------------------------------------*/
@layer components {
  /* Modern Button System - Apple/Nike inspired */
  .btn-primary {
    @apply bg-primary-600 hover:bg-primary-700 active:bg-primary-800 text-white font-semibold py-3 px-6 rounded-2xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed;
  }
  .btn-energy {
    @apply bg-energy-500 hover:bg-energy-600 active:bg-energy-700 text-white font-semibold py-3 px-6 rounded-2xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-energy-500 focus:ring-offset-2 shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed;
  }
  .btn-secondary {
    @apply bg-white hover:bg-neutral-50 active:bg-neutral-100 text-foreground font-semibold py-3 px-6 rounded-2xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 shadow-sm hover:shadow-md border border-neutral-200;
  }
  .btn-outline {
    @apply border-2 border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white active:bg-primary-700 font-semibold py-3 px-6 rounded-2xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 bg-transparent;
  }
  .btn-ghost {
    @apply text-foreground-secondary hover:text-foreground hover:bg-neutral-100 active:bg-neutral-200 font-medium py-3 px-6 rounded-2xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }
  .btn-success {
    @apply bg-success-500 hover:bg-success-600 active:bg-success-700 text-white font-semibold py-3 px-6 rounded-2xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-success-500 focus:ring-offset-2 shadow-sm hover:shadow-md;
  }
  .btn-glass {
    @apply bg-white/80 hover:bg-white/90 backdrop-blur-md border border-white/30 text-foreground font-semibold py-3 px-6 rounded-2xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 shadow-glass;
  }

  /* Inputs */
  .input-field {
    @apply w-full px-4 py-3 border border-border rounded-xl bg-background focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 placeholder-foreground-tertiary text-foreground;
  }
  .input-field-filled {
    @apply w-full px-4 py-3 border-0 rounded-xl bg-background-secondary focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-background transition-all duration-200 placeholder-foreground-tertiary text-foreground;
  }
  .input-field-error { @apply input-field border-error-300 focus:ring-error-500; }

  /* Cards */
  .card { @apply bg-background rounded-3xl shadow-medium border border-border/50 p-6 transition-all duration-300; }
  .card-elevated { @apply bg-background rounded-3xl shadow-elevated border border-border/30 p-6 transition-all duration-300; }
  .card-glass { @apply bg-white/10 backdrop-blur-md border border-white/20 rounded-3xl shadow-glass p-6 transition-all duration-300; }

  /* Gradient cards (Color4 syntax fixed) */
  .card-gradient { @apply text-white rounded-3xl p-6 transition-all duration-300 shadow-hard; background-image: linear-gradient(135deg, rgb(var(--nf-primary-500)), rgb(var(--nf-primary-700))); }
  .card-gradient-accent { @apply text-white rounded-3xl p-6 transition-all duration-300 shadow-hard; background-image: linear-gradient(135deg, rgb(var(--nf-accent-500)), rgb(14 165 233)); }
  .card-gradient-secondary { @apply text-white rounded-3xl p-6 transition-all duration-300 shadow-hard; background-image: linear-gradient(135deg, rgb(var(--nf-secondary-500)), rgb(147 51 234)); }

  /* Typography helpers */
  .text-balance { text-wrap: balance; }
  .text-pretty { text-wrap: pretty; }

  /* Heading/body scale using fluid utilities */
  .heading-1 { @apply text-fluid-6xl font-heading font-bold tracking-tight text-foreground; }
  .heading-2 { @apply text-fluid-5xl font-heading font-bold tracking-tight text-foreground; }
  .heading-3 { @apply text-fluid-4xl font-heading font-semibold tracking-tight text-foreground; }
  .heading-4 { @apply text-fluid-3xl font-heading font-semibold tracking-tight text-foreground; }
  .heading-5 { @apply text-fluid-2xl font-heading font-semibold tracking-tight text-foreground; }
  .heading-6 { @apply text-fluid-xl font-heading font-semibold tracking-tight text-foreground; }
  .body-large { @apply text-fluid-lg font-body leading-relaxed text-foreground; }
  .body-base  { @apply text-fluid-base font-body leading-relaxed text-foreground; }
  .body-small { @apply text-fluid-sm font-body leading-relaxed text-foreground-secondary; }
  .caption { @apply text-fluid-xs font-body leading-tight text-foreground-tertiary uppercase tracking-wider; }

  .display-hero { @apply text-display-xl font-heading font-black tracking-tight text-foreground; }
  .display-large { @apply text-display-lg font-heading font-bold tracking-tight text-foreground; }
  .display-medium { @apply text-display-md font-heading font-bold tracking-tight text-foreground; }

  /* Glass */
  .glass { @apply backdrop-blur-md bg-white/80 border border-white/20; }

  /* Cards – interactions */
  .card-hover { @apply card hover:shadow-medium hover:border-neutral-300 cursor-pointer; }
  .card-interactive { @apply card-hover active:scale-[0.98] transition-transform; }

  /* Loading */
  .skeleton { @apply animate-pulse bg-neutral-200 rounded; }
  .loading-skeleton { background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size:200% 100%; animation: shimmer 1.5s infinite; }

  /* Status indicators */
  .status-dot { @apply w-2 h-2 rounded-full; }
  .status-online { @apply status-dot bg-success-500; }
  .status-offline { @apply status-dot bg-neutral-400; }
  .status-busy { @apply status-dot bg-warning-500; }

  /* Progress bar */
  .progress-bar { @apply w-full bg-neutral-200 rounded-full h-2 overflow-hidden; }
  .progress-fill { @apply h-full rounded-full transition-all duration-300; background-image: linear-gradient(90deg, rgb(var(--nf-energy-500)), rgb(var(--nf-energy-600))); }

  /* Modern badges */
  .badge { @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium; }
  .badge-primary  { @apply badge bg-primary-100 text-primary-800; }
  .badge-energy   { @apply badge bg-energy-100 text-energy-800; }
  .badge-success  { @apply badge bg-success-100 text-success-800; }
  .badge-warning  { @apply badge bg-warning-100 text-warning-800; }
  .badge-error    { @apply badge bg-error-100 text-error-800; }

  /* Fitness-specific badges */
  .badge-cardio { @apply badge bg-fitness-cardio-100 text-fitness-cardio-800 border border-fitness-cardio-200; }
  .badge-strength { @apply badge bg-fitness-strength-100 text-fitness-strength-800 border border-fitness-strength-200; }
  .badge-flexibility { @apply badge bg-fitness-flexibility-100 text-fitness-flexibility-800 border border-fitness-flexibility-200; }
  .badge-recovery { @apply badge bg-fitness-recovery-100 text-fitness-recovery-800 border border-fitness-recovery-200; }
  .badge-hiit { @apply badge bg-fitness-hiit-100 text-fitness-hiit-800 border border-fitness-hiit-200; }
  .badge-yoga { @apply badge bg-fitness-yoga-100 text-fitness-yoga-800 border border-fitness-yoga-200; }
  .badge-pilates { @apply badge bg-fitness-pilates-100 text-fitness-pilates-800 border border-fitness-pilates-200; }

  /* Touch targets & selection */
  .touch-target { @apply min-h-[44px] min-w-[44px]; }
  .touch-target-large { min-height: 48px; min-width: 48px; }
  .touch-target-xl { min-height: 56px; min-width: 56px; }
  .no-select { -webkit-user-select: none; -moz-user-select: none; user-select: none; }

  /* Smooth scrolling wrappers */
  .smooth-scroll { -webkit-overflow-scrolling: touch; scroll-behavior: smooth; }
  .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
  .hide-scrollbar::-webkit-scrollbar { display: none; }

  /* Layout helpers */
  .container-fluid { width: 100%; max-width: none; padding-left: clamp(1rem, 4vw, 1.5rem); padding-right: clamp(1rem, 4vw, 1.5rem); }
  .container-narrow { max-width: 64rem; margin-inline: auto; padding-inline: var(--space-layout-md); }
  .container-wide { max-width: 96rem; margin-inline: auto; padding-inline: var(--space-layout-lg); }

  /* In-view animation helpers */
  .animate-on-scroll { opacity: 0; transform: translateY(20px); transition: opacity .6s cubic-bezier(.16,1,.3,1), transform .6s cubic-bezier(.16,1,.3,1); }
  .animate-on-scroll.in-view { opacity: 1; transform: translateY(0); }

  /* Focus animation */
  .focus-ring-animated { position: relative; overflow: hidden; }
  .focus-ring-animated::before { content: ''; position: absolute; inset: -2px; border-radius: inherit; background: linear-gradient(45deg, transparent, rgba(99,102,241,.3), transparent); opacity: 0; transition: opacity .3s ease; }
  .focus-ring-animated:focus::before { opacity: 1; animation: rotate 2s linear infinite; }
  @keyframes rotate { to { transform: rotate(360deg); } }

  /* Form accessibility */
  .form-field-required::after { content: ' *'; color: #dc2626; font-weight: 700; }
  .form-error { @apply text-error-600; }
  .form-error::before { content: '⚠ '; }
  .form-success { @apply text-success-600; }
  .form-success::before { content: '✓ '; }
  .loading-announced::before { content: 'Loading, please wait...'; @apply sr-only; }

  /* Progress (ARIA) */
  .progress-accessible { position: relative; }
  .progress-accessible::after { content: attr(aria-valuenow) '% complete'; @apply sr-only; }

  /* Workout components */
  .workout-card { @apply card relative overflow-hidden group cursor-pointer transition-all duration-300; }
  .workout-card:hover { @apply shadow-elevated-lg -translate-y-1 scale-[1.02]; }
  .workout-card-intensity-low { @apply border-l-4 border-fitness-flexibility-500; background-image: linear-gradient(90deg, rgba(6,182,212,0.08), #fff); }
  .workout-card-intensity-medium { @apply border-l-4 border-fitness-strength-500; background-image: linear-gradient(90deg, rgba(34,197,94,0.08), #fff); }
  .workout-card-intensity-high { @apply border-l-4 border-fitness-cardio-500; background-image: linear-gradient(90deg, rgba(239,68,68,0.08), #fff); }
  .workout-card-intensity-extreme { @apply border-l-4 border-fitness-hiit-500; background-image: linear-gradient(90deg, rgba(245,158,11,0.08), #fff); }

  .exercise-card { @apply card p-6 bg-white border border-neutral-200 hover:border-primary-300 transition-all duration-300; }
  .exercise-card-active { @apply border-primary-500; background-image: linear-gradient(90deg, rgb(var(--nf-primary-500) / 0.08), #fff); @apply shadow-glow-primary; }

  .progress-ring { @apply relative inline-flex items-center justify-center; }
  .progress-ring-background { @apply absolute inset-0 rounded-full border-4 border-neutral-200; }
  .progress-ring-fill { @apply absolute inset-0 rounded-full border-4 border-primary-500 transition-all duration-500; transform: rotate(-90deg); stroke-dasharray: calc(var(--progress) * 2.51) 251; }

  .timer-display { @apply text-6xl font-mono font-bold text-center tabular-nums; }
  .timer-active { @apply text-primary-600 animate-workout-pulse; }
  .timer-rest { @apply text-fitness-recovery-500 animate-rest-breathe; }
  .timer-warning { @apply text-warning-500 animate-pulse; }

  .achievement-badge { @apply inline-flex items-center px-4 py-2 rounded-full font-semibold text-sm; }
  .achievement-bronze { @apply achievement-badge text-white; background-image: linear-gradient(90deg, #b45309, #92400e); box-shadow: 0 8px 24px rgba(180,83,9,0.35); }
  .achievement-silver { @apply achievement-badge text-white; background-image: linear-gradient(90deg, #9ca3af, #6b7280); box-shadow: 0 8px 24px rgba(107,114,128,0.35); }
  .achievement-gold { @apply achievement-badge text-white; background-image: linear-gradient(90deg, #f59e0b, #eab308); box-shadow: 0 8px 24px rgba(234,179,8,0.35); }

  .motivation-text { @apply text-lg font-semibold bg-gradient-energy bg-clip-text text-transparent; }
  .energy-button { @apply btn-primary relative overflow-hidden; }
  .energy-button::before { content: ''; @apply absolute inset-0; background-image: linear-gradient(135deg, #22d3ee, #6366f1); opacity: 0; transition: opacity .3s; }
  .energy-button:hover::before { opacity: .2; }
}

/* --------------------------------------------------------------------------------
   RESPONSIVE + PRINT
---------------------------------------------------------------------------------*/

/* Mobile optimizations */
@media (max-width: 768px) {
  .btn, .button, button { min-height: 44px; min-width: 44px; }
  body { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
  .container { padding-left: 1rem; padding-right: 1rem; }
  .card { margin-bottom: 1rem; border-radius: 1rem; }
  .workout-card { padding: 1rem; margin-bottom: 0.75rem; }
  .timer-display { font-size: 3rem; }
  .progress-ring { width: 80px; height: 80px; }
  .nav-item { padding: 0.75rem; min-height: 60px; }
  .workout-interface { padding: 1rem; margin-bottom: 80px; }
  .modal { margin: 1rem; max-height: calc(100vh - 2rem); overflow-y: auto; }
}

/* Tablet */
@media (min-width: 769px) and (max-width: 1024px) {
  .container { padding-left: 2rem; padding-right: 2rem; }
  .workout-card { padding: 1.5rem; }
}

/* HiDPI */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .icon, .badge, .button { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
}

/* Print */
@media print {
  .no-print { display: none !important; }
  .print-only { display: block !important; }
  * { background: transparent !important; color: black !important; box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]::after { content: " (" attr(href) ")"; }
  .card { border: 1px solid #000; page-break-inside: avoid; }
}